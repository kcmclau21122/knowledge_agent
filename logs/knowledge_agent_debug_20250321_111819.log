2025-03-21 11:18:19,442 - logging_test - INFO - main.py:125 - TEST: Logging system initialized
2025-03-21 11:18:19,442 - __main__ - INFO - main.py:137 - Detailed logging successfully configured
2025-03-21 11:18:19,442 - __main__ - INFO - main.py:138 - Log file location: C:\Users\mclau\source\repos\knowledge_agent\logs\knowledge_agent_debug_20250321_111819.log
2025-03-21 11:18:19,442 - __main__ - INFO - main.py:195 - ==================================================
2025-03-21 11:18:19,442 - __main__ - INFO - main.py:196 - KNOWLEDGE AGENT STARTING
2025-03-21 11:18:19,452 - __main__ - INFO - main.py:197 - ==================================================
2025-03-21 11:18:19,452 - __main__ - INFO - main.py:200 - Current Working Directory: C:\Users\mclau\source\repos\knowledge_agent
2025-03-21 11:18:19,452 - __main__ - INFO - main.py:201 - Python Version: 3.10.16 | packaged by conda-forge | (main, Dec  5 2024, 14:07:43) [MSC v.1942 64 bit (AMD64)]
2025-03-21 11:18:19,452 - __main__ - INFO - main.py:202 - Python Executable: C:\Users\mclau\anaconda3\envs\knowledge_ai\python.exe
2025-03-21 11:18:19,452 - __main__ - INFO - main.py:215 - Using custom knowledge directory: C:/TestData/preborn
2025-03-21 11:18:19,452 - __main__ - INFO - main.py:219 - Knowledge Directory Path: C:\TestData\preborn
2025-03-21 11:18:19,453 - __main__ - INFO - main.py:220 - Knowledge Directory Exists: True
2025-03-21 11:18:19,454 - __main__ - INFO - main.py:226 - Total files/directories in knowledge directory: 433
2025-03-21 11:18:19,454 - __main__ - INFO - main.py:228 -   C:\TestData\preborn\12-Babies-of-Christmas-Day-7_-Breonna_s-Mom-was-Given-the-Courage-to-Choose-Life-_-PreBorn_.txt
2025-03-21 11:18:19,454 - __main__ - INFO - main.py:228 -   C:\TestData\preborn\2016-990-for-Pre-Born.txt
2025-03-21 11:18:19,454 - __main__ - INFO - main.py:228 -   C:\TestData\preborn\2016-Annual-Report-_-PreBorn_.txt
2025-03-21 11:18:19,454 - __main__ - INFO - main.py:228 -   C:\TestData\preborn\2017-Annual-Report-_-PreBorn_.txt
2025-03-21 11:18:19,455 - __main__ - INFO - main.py:228 -   C:\TestData\preborn\2017-Annual-Report.txt
2025-03-21 11:18:19,455 - __main__ - INFO - main.py:228 -   C:\TestData\preborn\2017-MP-Financial-Statements-v2.txt
2025-03-21 11:18:19,455 - __main__ - INFO - main.py:228 -   C:\TestData\preborn\2017-MP-Financial-Statements-v2_1.txt
2025-03-21 11:18:19,455 - __main__ - INFO - main.py:228 -   C:\TestData\preborn\2018-990-for-Pre-Born.txt
2025-03-21 11:18:19,455 - __main__ - INFO - main.py:228 -   C:\TestData\preborn\2018-990-for-Pre-Born_1.txt
2025-03-21 11:18:19,455 - __main__ - INFO - main.py:228 -   C:\TestData\preborn\2018-Annual-Report-231x300.img.txt
2025-03-21 11:18:19,455 - __main__ - INFO - main.py:228 -   C:\TestData\preborn\2018-Annual-Report.txt
2025-03-21 11:18:19,455 - __main__ - INFO - main.py:228 -   C:\TestData\preborn\2018-Annual-Report_1.txt
2025-03-21 11:18:19,455 - __main__ - INFO - main.py:228 -   C:\TestData\preborn\2018-MP-Financial-Statements-v2.txt
2025-03-21 11:18:19,455 - __main__ - INFO - main.py:228 -   C:\TestData\preborn\2019-990-public-disclosure.txt
2025-03-21 11:18:19,455 - __main__ - INFO - main.py:228 -   C:\TestData\preborn\2019-Annual-Report-266x300.img.txt
2025-03-21 11:18:19,455 - __main__ - INFO - main.py:228 -   C:\TestData\preborn\2019-Annual-Report-_-PreBorn_.txt
2025-03-21 11:18:19,455 - __main__ - INFO - main.py:228 -   C:\TestData\preborn\2019-Annual-Report.txt
2025-03-21 11:18:19,456 - __main__ - INFO - main.py:228 -   C:\TestData\preborn\2019-MP-Financial-Statements-v2.txt
2025-03-21 11:18:19,456 - __main__ - INFO - main.py:228 -   C:\TestData\preborn\2019-MP-Financial-Statements-v2_1.txt
2025-03-21 11:18:19,456 - __main__ - INFO - main.py:228 -   C:\TestData\preborn\2019-_-Page-2-of-3-_-PreBorn_.txt
2025-03-21 11:18:19,456 - __main__ - INFO - main.py:230 -   ... and 413 more
2025-03-21 11:18:19,457 - utils - INFO - utils.py:19 - Directories created
2025-03-21 11:18:19,458 - templates - INFO - templates.py:252 - Templates and static files created
2025-03-21 11:18:19,459 - __main__ - INFO - main.py:241 - Initializing Knowledge Agent for PreBorn
2025-03-21 11:18:19,460 - utils - INFO - utils.py:19 - Directories created
2025-03-21 11:18:19,460 - knowledge_agent - INFO - knowledge_agent.py:50 - Initializing vector database
2025-03-21 11:18:19,460 - vector_database - INFO - vector_database.py:41 - Initializing embedding function with model: sentence-transformers/all-MiniLM-L6-v2
2025-03-21 11:18:19,827 - vector_database - INFO - vector_database.py:45 - Embedding function initialized successfully
2025-03-21 11:18:19,827 - vector_database - INFO - vector_database.py:53 - Initializing ChromaDB at path: C:\Users\mclau\source\repos\knowledge_agent\data\vectordb
2025-03-21 11:18:19,827 - vector_database - ERROR - vector_database.py:64 - Failed to initialize ChromaDB: [91mYou are using a deprecated configuration of Chroma.

[94mIf you do not have data you wish to migrate, you only need to change how you construct
your Chroma client. Please see the "New Clients" section of https://docs.trychroma.com/migration.
________________________________________________________________________________________________

If you do have data you wish to migrate, we have a migration tool you can use in order to
migrate your data to the new Chroma architecture.
Please `pip install chroma-migrate` and run `chroma-migrate` to migrate your data and then
change how you construct your Chroma client.

See https://docs.trychroma.com/migration for more information or join our discord at https://discord.gg/8g5FESbj for help![0m
2025-03-21 11:18:19,829 - vector_database - ERROR - vector_database.py:65 - Traceback: Traceback (most recent call last):
  File "c:\Users\mclau\source\repos\knowledge_agent\vector_database.py", line 54, in __init__
    self.db = chromadb.PersistentClient(
  File "C:\Users\mclau\anaconda3\envs\knowledge_ai\lib\site-packages\chromadb\__init__.py", line 106, in PersistentClient
    return Client(settings)
  File "C:\Users\mclau\anaconda3\envs\knowledge_ai\lib\site-packages\chromadb\__init__.py", line 140, in Client
    system = System(settings)
  File "C:\Users\mclau\anaconda3\envs\knowledge_ai\lib\site-packages\chromadb\config.py", line 175, in __init__
    if settings[key] is not None:
  File "C:\Users\mclau\anaconda3\envs\knowledge_ai\lib\site-packages\chromadb\config.py", line 110, in __getitem__
    raise ValueError(LEGACY_ERROR)
ValueError: [91mYou are using a deprecated configuration of Chroma.

[94mIf you do not have data you wish to migrate, you only need to change how you construct
your Chroma client. Please see the "New Clients" section of https://docs.trychroma.com/migration.
________________________________________________________________________________________________

If you do have data you wish to migrate, we have a migration tool you can use in order to
migrate your data to the new Chroma architecture.
Please `pip install chroma-migrate` and run `chroma-migrate` to migrate your data and then
change how you construct your Chroma client.

See https://docs.trychroma.com/migration for more information or join our discord at https://discord.gg/8g5FESbj for help![0m

2025-03-21 11:18:19,829 - knowledge_agent - ERROR - knowledge_agent.py:54 - Failed to initialize vector database: Could not initialize ChromaDB. Please check configuration and permissions: [91mYou are using a deprecated configuration of Chroma.

[94mIf you do not have data you wish to migrate, you only need to change how you construct
your Chroma client. Please see the "New Clients" section of https://docs.trychroma.com/migration.
________________________________________________________________________________________________

If you do have data you wish to migrate, we have a migration tool you can use in order to
migrate your data to the new Chroma architecture.
Please `pip install chroma-migrate` and run `chroma-migrate` to migrate your data and then
change how you construct your Chroma client.

See https://docs.trychroma.com/migration for more information or join our discord at https://discord.gg/8g5FESbj for help![0m
2025-03-21 11:18:19,830 - knowledge_agent - ERROR - knowledge_agent.py:55 - Traceback: Traceback (most recent call last):
  File "c:\Users\mclau\source\repos\knowledge_agent\vector_database.py", line 54, in __init__
    self.db = chromadb.PersistentClient(
  File "C:\Users\mclau\anaconda3\envs\knowledge_ai\lib\site-packages\chromadb\__init__.py", line 106, in PersistentClient
    return Client(settings)
  File "C:\Users\mclau\anaconda3\envs\knowledge_ai\lib\site-packages\chromadb\__init__.py", line 140, in Client
    system = System(settings)
  File "C:\Users\mclau\anaconda3\envs\knowledge_ai\lib\site-packages\chromadb\config.py", line 175, in __init__
    if settings[key] is not None:
  File "C:\Users\mclau\anaconda3\envs\knowledge_ai\lib\site-packages\chromadb\config.py", line 110, in __getitem__
    raise ValueError(LEGACY_ERROR)
ValueError: [91mYou are using a deprecated configuration of Chroma.

[94mIf you do not have data you wish to migrate, you only need to change how you construct
your Chroma client. Please see the "New Clients" section of https://docs.trychroma.com/migration.
________________________________________________________________________________________________

If you do have data you wish to migrate, we have a migration tool you can use in order to
migrate your data to the new Chroma architecture.
Please `pip install chroma-migrate` and run `chroma-migrate` to migrate your data and then
change how you construct your Chroma client.

See https://docs.trychroma.com/migration for more information or join our discord at https://discord.gg/8g5FESbj for help![0m

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "c:\Users\mclau\source\repos\knowledge_agent\knowledge_agent.py", line 51, in __init__
    self.vector_db = VectorDatabase(use_graph=use_graph)
  File "c:\Users\mclau\source\repos\knowledge_agent\vector_database.py", line 66, in __init__
    raise RuntimeError(f"Could not initialize ChromaDB. Please check configuration and permissions: {e}")
RuntimeError: Could not initialize ChromaDB. Please check configuration and permissions: [91mYou are using a deprecated configuration of Chroma.

[94mIf you do not have data you wish to migrate, you only need to change how you construct
your Chroma client. Please see the "New Clients" section of https://docs.trychroma.com/migration.
________________________________________________________________________________________________

If you do have data you wish to migrate, we have a migration tool you can use in order to
migrate your data to the new Chroma architecture.
Please `pip install chroma-migrate` and run `chroma-migrate` to migrate your data and then
change how you construct your Chroma client.

See https://docs.trychroma.com/migration for more information or join our discord at https://discord.gg/8g5FESbj for help![0m

